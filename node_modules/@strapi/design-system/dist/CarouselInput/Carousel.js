import { jsx as e, jsxs as s, Fragment as k } from "react/jsx-runtime";
import * as o from "react";
import { ChevronLeft as D, ChevronRight as K } from "@strapi/icons";
import c from "styled-components";
import { KeyboardKeys as h } from "../helpers/keyboardKeys.js";
import { Tooltip as T } from "../Tooltip/Tooltip.js";
import { Box as i } from "../Box/Box.js";
import { Flex as g } from "../Flex/Flex.js";
import { Icon as f } from "../Icon/Icon.js";
import { Typography as j } from "../Typography/Typography.js";
const F = c(i)`
  grid-template-columns: auto 1fr auto;
  grid-template-areas: 'startAction slides endAction';
`, E = c(g)`
  grid-area: slides;
`, m = c(i)`
  grid-area: ${({ area: r }) => r};

  &:focus svg path,
  &:hover svg path {
    fill: ${({ theme: r }) => r.colors.neutral900};
  }
`, M = o.forwardRef(({ actions: r, children: y, label: C, nextLabel: b, onNext: p, onPrevious: u, previousLabel: R, secondaryLabel: a, selectedSlide: x, ...v }, w) => {
  const n = o.useRef(null), l = o.useRef(null), d = o.Children.map(y, (t, A) => o.cloneElement(t, { selected: A === x }));
  return e(i, { ref: w, ...v, onKeyDown: (t) => {
    switch (t.key) {
      case h.RIGHT: {
        t.preventDefault(), l?.current && l.current.focus(), p();
        break;
      }
      case h.LEFT: {
        t.preventDefault(), n?.current && n.current.focus(), u();
        break;
      }
    }
  }, children: s(i, { padding: 2, borderColor: "neutral200", hasRadius: !0, background: "neutral100", children: [s(F, { as: "section", "aria-roledescription": "carousel", "aria-label": C, display: "grid", position: "relative", children: [d && d.length > 1 && s(k, { children: [e(m, { as: "button", onClick: u, area: "startAction", ref: n, "aria-label": R, type: "button", children: e(f, { as: D, "aria-hidden": !0, width: "6px", height: "10px", color: "neutral600" }) }), e(m, { as: "button", onClick: p, area: "endAction", ref: l, "aria-label": b, type: "button", children: e(f, { as: K, "aria-hidden": !0, width: "6px", height: "10px", color: "neutral600" }) })] }), e(E, { "aria-live": "polite", paddingLeft: 2, paddingRight: 2, width: "100%", overflow: "hidden", children: d }), r] }), a && e(i, { paddingTop: 2, paddingLeft: 4, paddingRight: 4, children: e(T, { label: a, children: e(g, { justifyContent: "center", children: e(j, { variant: "pi", textColor: "neutral600", ellipsis: !0, children: a }) }) }) })] }) });
});
export {
  M as Carousel
};
