(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5762],{34412:function(k,h,t){"use strict";t.r(h),t.d(h,{default:function(){return mt}});var o=t(32735),d=t(12301),p=t(65810),g=t(56784),u=t.n(g),H=t(93839),T=t.n(H),y=t(86349),A=t.n(y),Q=t(88423),G=t.n(Q),ue=t(74758),D=t(14911),K=t(47750),pe="strapi-admin-language",P=t(19565),z=t(60216),s=t.n(z),U=t(20108),M=t(15062),V=t(76402),Z=t(97889);const F={menuLogo:null,authLogo:null};var X=(a=F,e)=>(0,Z.ZP)(a,n=>{switch(e.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(n,e.values);break}default:return n}});const se=({children:a,authLogo:e,menuLogo:n,showReleaseNotification:i,showTutorials:r})=>{const[{menuLogo:l,authLogo:c},v]=(0,o.useReducer)(X,F),N=(0,o.useCallback)(({menuLogo:$,authLogo:S})=>v({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:$||n,authLogo:S||e}}),[e,n]),x=(0,o.useMemo)(()=>({logos:{menu:{custom:l,default:n},auth:{custom:c,default:e}},updateProjectSettings:N,showReleaseNotification:i,showTutorials:r}),[l,n,c,e,N,i,r]);return o.createElement(V._5.Provider,{value:x},a)};se.propTypes={authLogo:s().string.isRequired,children:s().element.isRequired,menuLogo:s().string.isRequired,showReleaseNotification:s().bool.isRequired,showTutorials:s().bool.isRequired};var Pe=se,je=t(33795),Le=t.n(je),be=t(3040),ve=t.n(be),B=t(96030),ke=a=>{const e={...a},n=B.ZP.get(B.JN),i=B.ZP.get(B.ik),r=B.ZP.get(B.kb);if(n&&n.forEach(l=>{const[c,v]=l.split(".");ve()(e,["guidedTourState",c,v],!0)}),i){const[l,c]=i.split(".");ve()(e,["guidedTourState",l,c],!0),B.ZP.addCompletedStep(i),B.ZP.addCurrentStep(null)}return r!==null&&ve()(e,"isSkipped",r),e};const Te={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0};var Oe=(a=Te,e)=>(0,Z.ZP)(a,n=>{switch(e.type){case"SET_CURRENT_STEP":{n.currentStep=e.step;break}case"SET_STEP_STATE":{const[i,r]=e.currentStep.split(".");n.guidedTourState[i][r]=e.value;break}case"SET_SKIPPED":{n.isSkipped=e.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{n.isGuidedTourVisible=e.value;break}default:return n}}),xe=(a,e)=>{const n=Object.entries(e),i=n.findIndex(([l])=>l===a);return n.slice(0,i).every(([,l])=>Object.values(l).every(Boolean))},E=(a,e)=>{const n=a.split("."),i=n[1],r=Object.entries(e[n[0]]),l=r.findIndex(([v])=>v===i);return r.slice(0,l).every(([,v])=>v)};const m=({children:a})=>{const[{currentStep:e,guidedTourState:n,isGuidedTourVisible:i,isSkipped:r},l]=(0,o.useReducer)(Oe,Te,ke),c=S=>{if(S!==null){const I=Le()(n,S),ee=E(S,n);if(I||r||!ee)return null}return B.ZP.addCurrentStep(S),l({type:"SET_CURRENT_STEP",step:S})},v=S=>{l({type:"SET_GUIDED_TOUR_VISIBILITY",value:S})},N=(S,I)=>{B.ZP.addCompletedStep(S),l({type:"SET_STEP_STATE",currentStep:S,value:I})},x=S=>{const I=n[S];if(I){const ee=xe(S,n),te=Object.keys(I)[0],Se=I[te];if(ee&&!e&&!Se)return c(`${S}.${te}`)}return null},$=S=>{B.ZP.setSkipped(S),l({type:"SET_SKIPPED",value:S})};return o.createElement(P.Zc,{guidedTourState:n,currentStep:e,setCurrentStep:c,setGuidedTourVisibility:v,setSkipped:$,setStepState:N,startSection:x,isGuidedTourVisible:i,isSkipped:r},a)};m.propTypes={children:s().element.isRequired};var f=m,W=t(58732),oe=t.n(W),w=t(78023),ie=t(33229);const J=({changeLocale:a,children:e,localeNames:n})=>o.createElement(ie.Z.Provider,{value:{changeLocale:a,localeNames:n}},e);J.propTypes={changeLocale:s().func.isRequired,children:s().element.isRequired,localeNames:s().object.isRequired};var ae=J,j=a=>{const e=window.localStorage.getItem(pe);return{locale:a[e]?e:"en",localeNames:a}};const R={localeNames:{en:"English"},locale:"en"};var ye=(a=R,e)=>{switch(e.type){case"CHANGE_LOCALE":{const{locale:n}=e;return a.localeNames[n]?{...a,locale:n}:a}default:return a}};const de=({children:a,localeNames:e,messages:n})=>{const[{locale:i},r]=(0,o.useReducer)(ye,R,()=>j(e));(0,o.useEffect)(()=>{window.localStorage.setItem(pe,i),document.documentElement.setAttribute("lang",i)},[i]);const l=v=>{r({type:"CHANGE_LOCALE",locale:v})},c=oe()(n[i],n.en);return o.createElement(w.Z,{locale:i,defaultLocale:"en",messages:c,textComponent:"span"},o.createElement(ae,{changeLocale:l,localeNames:e},a))};de.propTypes={children:s().element.isRequired,localeNames:s().objectOf(s().string).isRequired,messages:s().object.isRequired};var me=de,Ce=t(24854),ge=t(67879),he=t(63465),Ee=t(8471),b=(0,Ee.vJ)`
  body {
    background: ${({theme:a})=>a.colors.neutral100};
  }
`;const C=({children:a})=>{const{currentTheme:e,themes:n}=(0,he.M1)(),{locale:i}=(0,ge.Z)();return o.createElement(Ce.h,{locale:i,theme:n[e]||n.light},a,o.createElement(b,null))};C.propTypes={children:s().element.isRequired};var O=C;const q="STRAPI_THEME",we=()=>{const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",e=localStorage.getItem(q);return e||localStorage.setItem(q,a),e||a},Ue=({children:a,themes:e})=>{const[n,i]=(0,o.useState)(we()),r=(0,o.useCallback)(c=>{i(c),localStorage.setItem(q,c)},[i]),l=(0,o.useMemo)(()=>({currentTheme:n,onChangeTheme:r,themes:e}),[n,r,e]);return o.createElement(V.Rj.Provider,{value:l},a)};Ue.propTypes={children:s().node.isRequired,themes:s().shape({light:s().shape({colors:s().object.isRequired,shadows:s().object.isRequired,sizes:s().object.isRequired,zIndices:s().array.isRequired,spaces:s().array.isRequired,borderRadius:s().string.isRequired,mediaQueries:s().object.isRequired,fontSizes:s().array.isRequired,lineHeights:s().array.isRequired,fontWeights:s().object.isRequired}).isRequired,dark:s().shape({colors:s().object.isRequired,shadows:s().object.isRequired,sizes:s().object.isRequired,zIndices:s().array.isRequired,spaces:s().array.isRequired,borderRadius:s().string.isRequired,mediaQueries:s().object.isRequired,fontSizes:s().array.isRequired,lineHeights:s().array.isRequired,fontWeights:s().object.isRequired}).isRequired,custom:s().object}).isRequired};var Je=Ue;const Ye=new U.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Ge=({authLogo:a,children:e,components:n,customFields:i,fields:r,getAdminInjectedComponents:l,getPlugin:c,localeNames:v,menu:N,menuLogo:x,messages:$,plugins:S,runHookParallel:I,runHookSeries:ee,runHookWaterfall:te,settings:Se,showReleaseNotification:L,showTutorials:ne,store:Ie,themes:gt})=>o.createElement(me,{messages:$,localeNames:v},o.createElement(Je,{themes:gt},o.createElement(O,null,o.createElement(U.QueryClientProvider,{client:Ye},o.createElement(M.zt,{store:Ie},o.createElement(V.ux.Provider,{value:{getAdminInjectedComponents:l}},o.createElement(Pe,{authLogo:a,menuLogo:x,showReleaseNotification:L,showTutorials:ne},o.createElement(P._Y,{getPlugin:c,menu:N,plugins:S,runHookParallel:I,runHookWaterfall:te,runHookSeries:ee,settings:Se},o.createElement(P.rt,{components:n,fields:r},o.createElement(P.MG,{customFields:i},o.createElement(P.m$,null,o.createElement(P.w7,null,o.createElement(f,null,o.createElement(P.N$,null,e))))))))))))));Ge.propTypes={authLogo:s().oneOfType([s().string,s().any]).isRequired,children:s().element.isRequired,components:s().object.isRequired,customFields:s().object.isRequired,fields:s().object.isRequired,getAdminInjectedComponents:s().func.isRequired,getPlugin:s().func.isRequired,localeNames:s().objectOf(s().string).isRequired,menu:s().arrayOf(s().shape({to:s().string.isRequired,icon:s().func.isRequired,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,permissions:s().array,Component:s().func})).isRequired,menuLogo:s().oneOfType([s().string,s().any]).isRequired,messages:s().object.isRequired,plugins:s().object.isRequired,runHookParallel:s().func.isRequired,runHookWaterfall:s().func.isRequired,runHookSeries:s().func.isRequired,settings:s().object.isRequired,showReleaseNotification:s().bool.isRequired,showTutorials:s().bool.isRequired,store:s().object.isRequired,themes:s().shape({light:s().shape({colors:s().object.isRequired,shadows:s().object.isRequired,sizes:s().object.isRequired,zIndices:s().array.isRequired,spaces:s().array.isRequired,borderRadius:s().string.isRequired,mediaQueries:s().object.isRequired,fontSizes:s().array.isRequired,lineHeights:s().array.isRequired,fontWeights:s().object.isRequired}).isRequired,dark:s().shape({colors:s().object.isRequired,shadows:s().object.isRequired,sizes:s().object.isRequired,zIndices:s().array.isRequired,spaces:s().array.isRequired,borderRadius:s().string.isRequired,mediaQueries:s().object.isRequired,fontSizes:s().array.isRequired,lineHeights:s().array.isRequired,fontWeights:s().object.isRequired}).isRequired,custom:s().object}).isRequired};var Qe=Ge,ze=t(59883),Re=t(6680);const Xe=(a,e)=>{let n=Re.compose;const i=[];a.forEach(l=>{i.push(l())});const r=(0,Re.createStore)(Be(e,{}),{},n((0,Re.applyMiddleware)(...i)));return r.asyncReducers={},r.injectReducer=(l,c)=>{r.asyncReducers[l]=c,r.replaceReducer(Be(e,r.asyncReducers))},r},Be=(a,e)=>(0,Re.combineReducers)({...a,...e});var qe=Xe,_e=t(35231),et=()=>{const a=[];return{register(e){a.push(e)},delete(e){a.splice(a.indexOf(e),1)},runWaterfall(e,n){return a.reduce((i,r)=>r(i,n),e)},async runWaterfallAsync(e,n){let i=e;for(const r of a)i=await r(i,n);return i},runSeries(...e){return a.map(n=>n(...e))},async runSeriesAsync(...e){const n=[];for(const i of a)n.push(await i(...e));return n},runParallel(...e){return Promise.all(a.map(n=>n(...e)))}}},Ae=t(66941),tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=",nt={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[],publishModalAdditionalInfos:[],unpublishModalAdditionalInfos:[]}}},st=t(10728),_=t(53038);const Ze=({component:a,path:e,...n})=>{const{pathname:i,search:r}=(0,_.TH)();return o.createElement(_.AW,{path:e,render:l=>P.I8.getToken()!==null?o.createElement(a,{...n,...l}):o.createElement(_.l_,{to:{pathname:"/auth/login",search:i!=="/"&&`?redirectTo=${encodeURIComponent(`${i}${r}`)}`}})})};Ze.propTypes={component:s().any.isRequired,path:s().string.isRequired};var Fe=(0,o.memo)(Ze);const We={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null}],read:[{action:"admin::marketplace.read",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"transfer-tokens":{main:[{action:"admin::transfer.tokens.access",subject:null}],create:[{action:"admin::transfer.tokens.create",subject:null}],delete:[{action:"admin::transfer.tokens.delete",subject:null}],read:[{action:"admin::transfer.tokens.read",subject:null}],update:[{action:"admin::transfer.tokens.update",subject:null}],regenerate:[{action:"admin::transfer.tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var ot=t(47446),$e=t(9592),Ke=t(4556);const it=o.lazy(()=>t.e(8826).then(t.bind(t,27129)).then(a=>({default:a.AuthPage}))),at=o.lazy(()=>Promise.all([t.e(748),t.e(3349)]).then(t.bind(t,46590)).then(a=>({default:a.AuthenticatedApp}))),rt=o.lazy(()=>t.e(9884).then(t.bind(t,48066)).then(a=>({default:a.UseCasePage}))),Ve=o.lazy(()=>t.e(5788).then(t.bind(t,1708)).then(a=>({default:a.NotFoundPage}))),ut=o.lazy(()=>t.e(9501).then(t.bind(t,53165)).then(a=>({default:a.InternalErrorPage})));function lt(){const{updateProjectSettings:a}=(0,ot.Z)(),{formatMessage:e}=(0,ge.Z)(),n=(0,M.I0)(),{get:i,post:r}=(0,P.kY)(),l=(0,$e.c)(We,async()=>(await t.e(3100).then(t.bind(t,73100))).ADMIN_PERMISSIONS_EE,{combine(L,ne){return A()({},L,ne)},defaultValue:We}),c=(0,$e.c)(Ke.hf,async()=>(await t.e(8299).then(t.bind(t,38299))).AUTH_ROUTES_EE,{defaultValue:[]}),[{hasAdmin:v,uuid:N},x]=o.useState({hasAdmin:!1,uuid:void 0});o.useEffect(()=>{n({type:Ke.XS,payload:l})},[l,n]);const[{data:$,error:S},{data:I,isLoading:ee},{data:te}]=(0,U.useQueries)([{queryKey:"renew-token",async queryFn(){const{data:{data:{token:L}}}=await r("/admin/renew-token",{token:P.I8.getToken()});return L},enabled:!!P.I8.getToken()},{queryKey:"init",async queryFn(){const{data:{data:L}}=await i("/admin/init");return L}},{queryKey:"telemetry-properties",async queryFn(){const{data:{data:L}}=await i("/admin/telemetry-properties",{validateStatus:ne=>ne<500});return L},enabled:!!P.I8.getToken()}]);o.useEffect(()=>{S?(P.I8.clearAppStorage(),window.location.reload()):$&&P.I8.updateToken($)},[S,$]),o.useEffect(()=>{!ee&&I&&(a({menuLogo:(0,P.CR)(I.menuLogo),authLogo:(0,P.CR)(I.authLogo)}),x(L=>({...L,hasAdmin:I.hasAdmin,uuid:I.uuid})))},[I,ee,a]),o.useEffect(()=>{async function L(){await fetch("https://analytics.strapi.io/api/v2/track",{body:JSON.stringify({event:"didInitializeAdministration",userId:"",eventPropeties:{},userProperties:{},groupProperties:{...te,projectId:N}}),headers:{"Content-Type":"application/json","X-Strapi-Event":"didInitializeAdministration"},method:"POST"})}N&&L()},[te,N]);const Se=o.useMemo(()=>({uuid:N,telemetryProperties:te}),[N,te]);return ee?o.createElement(P.dO,null):o.createElement(o.Suspense,{fallback:o.createElement(P.dO,null)},o.createElement(st.z,null,e({id:"skipToContent"})),o.createElement(P.L8,{value:Se},o.createElement(_.rs,null,c.map(({path:L,component:ne})=>o.createElement(_.AW,{key:L,path:L,component:ne,exact:!0})),o.createElement(_.AW,{path:"/auth/:authType",render:L=>o.createElement(it,{...L,setHasAdmin:ne=>x(Ie=>({...Ie,hasAdmin:ne})),hasAdmin:v}),exact:!0}),o.createElement(Fe,{path:"/usecase",component:rt}),o.createElement(Fe,{path:"/",component:at}),o.createElement(_.AW,{path:"/404",component:Ve}),o.createElement(_.AW,{path:"/500",component:ut}),o.createElement(_.AW,{path:"",component:Ve}))))}var ct={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};class dt{constructor({adminConfig:e,appPlugins:n,library:i,middlewares:r,reducers:l}){this.customConfigurations=e.config,this.customBootstrapConfiguration=e.bootstrap,this.configurations={authLogo:K,head:{favicon:tt},locales:["en"],menuLogo:K,notifications:{releases:!0},themes:{light:d.W,dark:p.$},translations:{},tutorials:!0},this.appPlugins=n||{},this.library=i,this.middlewares=r,this.plugins={},this.reducers=l,this.translations={},this.hooksDict={},this.admin={injectionZones:nt},this.customFields=ze.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=e=>{Array.isArray(e)?e.map(n=>this.library.components.add(n)):this.library.components.add(e)};addCorePluginMenuLink=e=>{const n=JSON.stringify(e);u()(e.to,`link.to should be defined for ${n}`),u()(typeof e.to=="string",`Expected link.to to be a string instead received ${typeof e.to}`),u()(["/plugins/content-type-builder","/plugins/upload"].includes(e.to),"This method is not available for your plugin"),u()(e.intlLabel?.id&&e.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),this.menu.push(e)};addFields=e=>{Array.isArray(e)?e.map(n=>this.library.fields.add(n)):this.library.fields.add(e)};addMenuLink=e=>{const n=JSON.stringify(e);u()(e.to,`link.to should be defined for ${n}`),u()(typeof e.to=="string",`Expected link.to to be a string instead received ${typeof e.to}`),u()(e.intlLabel?.id&&e.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),u()(e.Component&&typeof e.Component=="function","link.Component should be a valid React Component"),u()(e.icon&&typeof e.icon=="function","link.Icon should be a valid React Component"),this.menu.push(e)};addMiddlewares=e=>{e.forEach(n=>{this.middlewares.add(n)})};addReducers=e=>{Object.keys(e).forEach(n=>{this.reducers.add(n,e[n])})};addSettingsLink=(e,n)=>{u()(this.settings[e],"The section does not exist");const i=JSON.stringify(n);u()(n.id,`link.id should be defined for ${i}`),u()(n.intlLabel?.id&&n.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${i}`),u()(n.to,`link.to should be defined for ${i}`),u()(n.Component&&typeof n.Component=="function","link.Component should be a valid React Component"),this.settings[e].links.push(n)};addSettingsLinks=(e,n)=>{u()(this.settings[e],"The section does not exist"),u()(Array.isArray(n),"TypeError expected links to be an array"),n.forEach(i=>{this.addSettingsLink(e,i)})};async bootstrap(){Object.keys(this.appPlugins).forEach(e=>{const n=this.appPlugins[e].bootstrap;n&&n({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),T()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(Ae.No),this.createHook(Ae.LK),this.createHook(Ae.dV),this.createHook(Ae.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(e=>e!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const e=this.customConfigurations.theme.dark,n=this.customConfigurations.theme.light;!e&&!n&&(console.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),A()(this.configurations.themes.light,this.customConfigurations.theme)),n&&A()(this.configurations.themes.light,n),e&&A()(this.configurations.themes.dark,e)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=e=>{this.hooksDict[e]=et()};createSettingSection=(e,n)=>{u()(e.id,"section.id should be defined"),u()(e.intlLabel?.id&&e.intlLabel?.defaultMessage,"section.intlLabel should be defined"),u()(Array.isArray(n),"TypeError expected links to be an array"),u()(this.settings[e.id]===void 0,"A similar section already exists"),this.settings[e.id]={...e,links:[]},n.forEach(i=>{this.addSettingsLink(e.id,i)})};createStore=()=>qe(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(e,n,i)=>{try{return this.admin.injectionZones[e][n][i]||[]}catch(r){return console.error("Cannot get injected component",r),r}};getPlugin=e=>this.plugins[e];async initialize(){Object.keys(this.appPlugins).forEach(e=>{this.appPlugins[e].register(this)})}injectContentManagerComponent=(e,n,i)=>{u()(this.admin.injectionZones.contentManager[e]?.[n],`The ${e} ${n} zone is not defined in the content manager`),u()(i,"A Component must be provided"),this.admin.injectionZones.contentManager[e][n].push(i)};injectAdminComponent=(e,n,i)=>{u()(this.admin.injectionZones.admin[e]?.[n],`The ${e} ${n} zone is not defined in the admin`),u()(i,"A Component must be provided"),this.admin.injectionZones.admin[e][n].push(i)};async loadAdminTrads(){const e=this.configurations.locales.map(r=>t(48224)(`./${r}.json`).then(({default:l})=>({data:l,locale:r})).catch(()=>({data:null,locale:r})));return(await Promise.all(e)).reduce((r,l)=>(l.data&&(r[l.locale]=l.data),r),{})}async loadTrads(){const e=await this.loadAdminTrads(),n=Object.keys(this.appPlugins).map(c=>{const v=this.appPlugins[c].registerTrads;return v?v({locales:this.configurations.locales}):null}).filter(c=>c),r=(await Promise.all(n)).reduce((c,v)=>{const N=v.reduce((x,$)=>(x[$.locale]=$.data,x),{});return Object.keys(N).forEach(x=>{c[x]={...c[x],...N[x]}}),c},{}),l=this.configurations.locales.reduce((c,v)=>(c[v]={...e[v],...r[v]||{},...this.customConfigurations?.translations?.[v]},c),{});return this.configurations.translations=l,Promise.resolve()}registerHook=(e,n)=>{u()(this.hooksDict[e],`The hook ${e} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[e].register(n)};registerPlugin=e=>{const n=(0,ze.Sy)(e);this.plugins[n.pluginId]=n};runHookSeries=(e,n=!1)=>n?this.hooksDict[e].runSeriesAsync():this.hooksDict[e].runSeries();runHookWaterfall=(e,n,i=!1,r)=>i?this.hooksDict[e].runWaterfallAsync(n,r):this.hooksDict[e].runWaterfall(n,r);runHookParallel=e=>this.hooksDict[e].runParallel();render(){const e=this.createStore(),n=G()(ct,this.configurations.locales||[]),{components:{components:i},fields:{fields:r}}=this.library;return o.createElement(Qe,{authLogo:this.configurations.authLogo,components:i,fields:r,customFields:this.customFields,localeNames:n,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(l,c,v=!1)=>this.runHookWaterfall(l,c,v,e),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:e},o.createElement(o.Fragment,null,o.createElement(ue.q,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(pe)||"en"}}),o.createElement(D.VK,{basename:_e.Z},o.createElement(lt,{store:e}))))}}var mt=({adminConfig:a={},appPlugins:e,library:n,middlewares:i,reducers:r})=>new dt({adminConfig:a,appPlugins:e,library:n,middlewares:i,reducers:r})},96030:function(k,h,t){"use strict";t.d(h,{JN:function(){return d},ik:function(){return o},kb:function(){return p}});const o="GUIDED_TOUR_CURRENT_STEP",d="GUIDED_TOUR_COMPLETED_STEPS",p="GUIDED_TOUR_SKIPPED",g=JSON.parse,u=JSON.stringify,H={clear(){localStorage.removeItem(o),localStorage.removeItem(d)},addCompletedStep(T){const y=g(localStorage.getItem(d))?.slice()||[];y.includes(T)||(y.push(T),localStorage.setItem(d,u(y)))},addCurrentStep(T){localStorage.setItem(o,u(T))},setSkipped(T){localStorage.setItem(p,u(T))},get(T){return g(localStorage.getItem(T))}};h.ZP=H},33229:function(k,h,t){"use strict";var o=t(32735);const d=(0,o.createContext)();h.Z=d},76402:function(k,h,t){"use strict";t.d(h,{ux:function(){return p},_5:function(){return u},$l:function(){return T},Rj:function(){return A}});var o=t(32735),p=(0,o.createContext)({}),u=(0,o.createContext)({}),T=(0,o.createContext)({}),A=(0,o.createContext)({})},35231:function(k,h){"use strict";const t="/admin/".replace(window.location.origin,"");h.Z=t},66941:function(k,h,t){"use strict";t.d(h,{Eo:function(){return p},LK:function(){return d},No:function(){return o},dV:function(){return g}});const o="Admin/CM/pages/ListView/inject-column-in-table",d="Admin/CM/pages/App/mutate-collection-types-links",p="Admin/CM/pages/EditView/mutate-edit-view-layout",g="Admin/CM/pages/App/mutate-single-types-links"},63465:function(k,h,t){"use strict";t.d(h,{um:function(){return o.Z},$_:function(){return T},rW:function(){return Q},G4:function(){return je},Te:function(){return Ne},M1:function(){return He}});var o=t(47446),d=t(90769),p=t(93051),g=t(32735),u=t(76402),T=()=>(0,g.useContext)(u.$l),y=t(19565),Q=(E,m,f,W)=>{const[oe,w]=(0,g.useState)(!1),ie=(0,y.lm)(),{post:J}=(0,y.kY)(),{formatAPIError:ae}=(0,y.So)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:j}}}=await J(`${E}${m}/regenerate`);w(!1),f(j)}catch(j){w(!1),W?W(j):ie({type:"warning",message:ae(j)})}},isLoadingConfirmation:oe}};const G=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),ue=()=>{const{latestStrapiReleaseTag:E,shouldUpdateStrapi:m}=useAppInfo(),f=useNotification();return useEffect(()=>{m&&G&&f({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${E}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[E,m,f]),null};var D=null,K=t(9086),fe=t.n(K),pe=t(5074),z=(E,m)=>({...E,fieldsToPick:m}),s=t(97889),U=t(88423),M=t.n(U),V=t(3040),Z=t.n(V),F=t(56236),le=t.n(F);const X={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},se=(E,m)=>(0,s.ZP)(E,f=>{switch(m.type){case"GET_DATA_SUCCEEDED":{f.isLoading=!1,f.showHeaderLoader=!1,f.initialData=M()(m.data,E.fieldsToPick),f.modifiedData=M()(m.data,E.fieldsToPick);break}case"ON_CANCEL":{f.modifiedData=E.initialData,f.formErrors={};break}case"ON_CHANGE":{m.inputType==="password"&&!m.value?le()(f.modifiedData,m.keys.split(".")):m.keys.includes("username")&&!m.value?Z()(f.modifiedData,m.keys.split("."),null):Z()(f.modifiedData,m.keys.split("."),m.value);break}case"ON_SUBMIT":{f.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{f.initialData=M()(m.data,E.fieldsToPick),f.modifiedData=M()(m.data,E.fieldsToPick),f.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{f.formErrors=m.errors,f.showHeaderButtonLoader=!1;break}default:return f}});var je=(E,m,f,W)=>{const[{formErrors:oe,initialData:w,isLoading:ie,modifiedData:J,showHeaderButtonLoader:ae,showHeaderLoader:ce},j]=(0,g.useReducer)(se,X,()=>z(X,W)),R=(0,y.lm)(),{lockApp:re,unlockApp:ye}=(0,y.o1)(),{get:de,put:me}=(0,y.kY)();return(0,g.useEffect)(()=>{E&&(async()=>{try{const{data:{data:b}}=await de(E);j({type:"GET_DATA_SUCCEEDED",data:b,fieldsToPick:W})}catch(b){console.error(b.response),R({type:"warning",message:{id:"notification.error"}})}})()},[E]),[{formErrors:oe,initialData:w,isLoading:ie,modifiedData:J,showHeaderButtonLoader:ae,showHeaderLoader:ce},j,{handleCancel:()=>{j({type:"ON_CANCEL"})},handleChange:({target:{name:Y,value:b,type:C}})=>{j({type:"ON_CHANGE",inputType:C,keys:Y,value:b})},handleSubmit:async Y=>{Y.preventDefault();let b=null;try{await m.validate(J,{abortEarly:!1})}catch(C){b=(0,y.CJ)(C)}if(j({type:"SET_ERRORS",errors:b||{}}),!b)try{re(),j({type:"ON_SUBMIT"});const C=fe()(J,["confirmPassword","registrationToken"]);C.roles&&(C.roles=C.roles.map(q=>q.id)),C.ssoLockedRoles&&(C.ssoLockedRoles=[...new Set(C.ssoLockedRoles)]);const{data:{data:O}}=await me(E,C);f(O),j({type:"ON_SUBMIT_SUCCEEDED",data:O}),R({type:"success",message:{id:"notification.success.saved"}})}catch(C){const O=C?.response?.payload??{data:{}};O?.data&&typeof O.data=="string"?R({type:"warning",message:O.data}):R({type:"warning",message:O.message});const q=(0,pe.I)(O);j({type:"SET_ERRORS",errors:q})}finally{ye()}},setField:(Y,b)=>{j({type:"ON_CHANGE",keys:Y,value:b})}}]},Le=t(15062),be=t(30305),ve=t(9592);const B={global:[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks"},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens"},{intlLabel:{id:"Settings.transferTokens.title",defaultMessage:"Transfer Tokens"},to:"/settings/transfer-tokens?sort=name:ASC",id:"transfer-tokens"}],admin:[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles"},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users"}]},De=E=>E.map(m=>{const f=m.links.map(W=>({...W,isDisplayed:!1}));return{...m,links:f}});var ke=t(98978),Te=t.n(ke);const Me=E=>Te()(E,m=>m.id);var Ne=()=>{const[{isLoading:E,menu:m},f]=(0,g.useState)({isLoading:!0,menu:[]}),{allPermissions:W}=(0,y.vn)(),{shouldUpdateStrapi:oe}=(0,y.L7)(),{settings:w}=(0,y.j1)(),ie=(0,Le.v9)(be._),{global:J,admin:ae}=(0,ve.c)(B,async()=>(await t.e(918).then(t.bind(t,50918))).LINKS_EE,{combine(R,re){return{admin:[...re.admin,...R.admin],global:[...R.global,...re.global]}},defaultValue:{admin:[],global:[]}}),ce=(0,g.useCallback)(R=>{if(!R.id)throw new Error("The settings menu item must have an id attribute.");return{...R,permissions:ie.settings?.[R.id]?.main}},[ie.settings]);(0,g.useEffect)(()=>{const R=async()=>{const Ce=await(ge=>Promise.all(ge.reduce((he,Ee,Y)=>{const b=C=>C.map(async(O,q)=>({hasPermission:await(0,y.qX)(W,O.permissions),sectionIndex:Y,linkIndex:q}));return[...he,...b(Ee.links)]},[])))(de);f(ge=>({...ge,isLoading:!1,menu:de.map((he,Ee)=>({...he,links:he.links.map((Y,b)=>{const C=Ce.find(O=>O.sectionIndex===Ee&&O.linkIndex===b);return{...Y,isDisplayed:Boolean(C.hasPermission)}})}))}))},{global:re,...ye}=w,de=De([{...w.global,links:Me([...w.global.links,...J.map(ce)]).map(me=>({...me,hasNotification:me.id==="000-application-infos"&&oe}))},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:ae.map(ce)},...Object.values(ye)]);R()},[ae,J,W,w,oe,ce]);const j=R=>({...R,links:R.links.filter(re=>re.isDisplayed)});return{isLoading:E,menu:m.map(j)}},He=()=>(0,g.useContext)(u.Rj)},47446:function(k,h,t){"use strict";var o=t(32735),d=t(76402);const p=()=>(0,o.useContext)(d._5);h.Z=p},90769:function(k,h,t){"use strict";t.d(h,{G:function(){return p}});var o=t(19565),d=t(20108);function p(){const{get:g}=(0,o.kY)(),{formatAPIError:u}=(0,o.So)(),H=(0,o.lm)(),T=(0,d.useQueries)(["components","content-types"].map(D=>({queryKey:["content-manager",D],async queryFn(){const{data:{data:K}}=await g(`/content-manager/${D}`);return K},onError(K){H({type:"warning",message:u(K)})}}))),[y,A]=T,Q=y.isLoading||A.isLoading,G=(A?.data??[]).filter(D=>D.kind==="collectionType"&&D.isDisplayed),ue=(A?.data??[]).filter(D=>D.kind!=="collectionType"&&D.isDisplayed);return{isLoading:Q,components:y?.data??[],collectionTypes:G,singleTypes:ue}}},9592:function(k,h,t){"use strict";t.d(h,{c:function(){return g}});var o=t(32735),d=t(19565);function p(){return window.strapi.isEE}function g(u,H,{defaultValue:T=null,combine:y=(Q,G)=>G,enabled:A=!0}={}){const Q=(0,d.W6)(H),G=(0,d.W6)(y),[{data:ue},D]=o.useState({data:p()&&A?T:u});return o.useEffect(()=>{async function K(){const fe=await Q();D({data:G(u,fe)})}p()&&A&&K()},[u,Q,G,A]),ue}},93051:function(k,h,t){"use strict";t.d(h,{Z:function(){return P}});var o=t(32735),d=t(19565),p=t(2287),g=t(36919),u=t(45112),H=t(15062),T=t(30305),y=t(99381),A=t.n(y),G=(z,s)=>s.map(({permissions:U})=>(0,d.qX)(z,U)),D=async(z,s,U)=>{const M=G(z,s),V=await Promise.all(M),Z=s.filter((X,se)=>V[se]),F=Z.findIndex(X=>X.to==="/settings");if(F===-1)return[];const le=A()(Z);return le[F].notificationsCount=U?1:0,le},fe=async(z,s)=>{const U=G(z,s),M=await Promise.all(U);return s.filter((Z,F)=>M[F])},P=()=>{const{allPermissions:z}=(0,d.vn)(),{shouldUpdateStrapi:s}=(0,d.L7)(),{menu:U}=(0,d.j1)(),M=(0,H.v9)(T._),[V,Z]=o.useState({generalSectionLinks:[{icon:p.Z,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:M.marketplace.main},{icon:g.Z,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:M.marketplace.main},{icon:u.Z,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0}),F=o.useRef(V.generalSectionLinks);return o.useEffect(()=>{async function le(){const X=await fe(z,U),se=await D(z,F.current,s);Z(Pe=>({...Pe,generalSectionLinks:se,pluginsSectionLinks:X,isLoading:!1}))}le()},[Z,F,z,U,M,s]),V}},30305:function(k,h,t){"use strict";t.d(h,{_:function(){return g}});var o=t(98178),d=t(69891);const p=()=>u=>u.admin_app||d.E,g=(0,o.P1)(p(),u=>u.permissions)},5074:function(k,h,t){"use strict";t.d(h,{I:function(){return o}});const o=({data:d})=>{try{return Object.keys(d).reduce((p,g)=>{const u=d[g][0];return p[g]={id:u,defaultMessage:u},p},{})}catch{return{}}}},48224:function(k,h,t){var o={"./ar.json":[38677,7958],"./ca.json":[90169,3516],"./cs.json":[43186,7519],"./de.json":[8343,6901],"./dk.json":[65668,7898],"./en.json":[10329,320],"./es.json":[45445,8367],"./eu.json":[69511,8360],"./fr.json":[8399,8006],"./gu.json":[10182,2248],"./he.json":[21757,830],"./hi.json":[43206,6332],"./hu.json":[72320,5894],"./id.json":[74221,8897],"./it.json":[90685,6817],"./ja.json":[21727,1312],"./ko.json":[30986,1377],"./ml.json":[11309,9903],"./ms.json":[75973,3025],"./nl.json":[80381,2671],"./no.json":[82446,562],"./pl.json":[84008,7846],"./pt-BR.json":[91417,9647],"./pt.json":[41830,3340],"./ru.json":[57098,123],"./sa.json":[92900,9726],"./sk.json":[52204,606],"./sv.json":[43211,9303],"./th.json":[49582,749],"./tr.json":[99154,395],"./uk.json":[2987,7403],"./vi.json":[50576,3278],"./zh-Hans.json":[35964,2553],"./zh.json":[91999,1011]};function d(p){if(!t.o(o,p))return Promise.resolve().then(function(){var H=new Error("Cannot find module '"+p+"'");throw H.code="MODULE_NOT_FOUND",H});var g=o[p],u=g[0];return t.e(g[1]).then(function(){return t.t(u,19)})}d.keys=function(){return Object.keys(o)},d.id=48224,k.exports=d},47750:function(k,h,t){"use strict";k.exports=t.p+"70674f63fc3904c20de0.svg"}}]);
