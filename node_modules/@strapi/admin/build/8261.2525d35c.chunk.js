(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[8261],{88261:function(D,C,c){"use strict";c.r(C),c.d(C,{AuthResponse:function(){return o}});var f=c(32735),a=c(19565),l=c(49189),d=c.n(l),_=c(67879),t=c(53038);const o=()=>{const{params:{authResponse:p}}=(0,t.$B)("/auth/login/:authResponse"),{formatMessage:g}=(0,_.Z)(),{push:n}=(0,t.k6)(),r=(0,f.useRef)(g);let e=(0,f.useCallback)(()=>{n(`/auth/oops?info=${encodeURIComponent(r.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[n]);const{get:E}=(0,a.kY)(),u=(0,f.useCallback)(async()=>{try{const i=d().get("jwtToken");if(a.I8.clearAppStorage(),i){a.I8.setToken(i,!0);const s="/admin/users/me",{data:{data:h}}=await E(s);a.I8.setUserInfo(h,!0),d().remove("jwtToken"),n("/auth/login")}}catch{e()}},[E,n,e]);return(0,f.useEffect)(()=>{p==="error"&&e(),p==="success"&&u()},[p,u,e]),f.createElement(a.dO,null)};C.default=o},49189:function(D,C,c){var f,a;/*!
* JavaScript Cookie v2.2.1
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(l){var d;if(f=l,a=typeof f=="function"?f.call(C,c,C,D):f,a!==void 0&&(D.exports=a),d=!0,D.exports=l(),d=!0,!d){var _=window.Cookies,t=window.Cookies=l();t.noConflict=function(){return window.Cookies=_,t}}})(function(){function l(){for(var t=0,o={};t<arguments.length;t++){var p=arguments[t];for(var g in p)o[g]=p[g]}return o}function d(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function _(t){function o(){}function p(n,r,e){if(!(typeof document>"u")){e=l({path:"/"},o.defaults,e),typeof e.expires=="number"&&(e.expires=new Date(new Date*1+e.expires*864e5)),e.expires=e.expires?e.expires.toUTCString():"";try{var E=JSON.stringify(r);/^[\{\[]/.test(E)&&(r=E)}catch{}r=t.write?t.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var i in e)e[i]&&(u+="; "+i,e[i]!==!0&&(u+="="+e[i].split(";")[0]));return document.cookie=n+"="+r+u}}function g(n,r){if(!(typeof document>"u")){for(var e={},E=document.cookie?document.cookie.split("; "):[],u=0;u<E.length;u++){var i=E[u].split("="),s=i.slice(1).join("=");!r&&s.charAt(0)==='"'&&(s=s.slice(1,-1));try{var h=d(i[0]);if(s=(t.read||t)(s,h)||d(s),r)try{s=JSON.parse(s)}catch{}if(e[h]=s,n===h)break}catch{}}return n?e[n]:e}}return o.set=p,o.get=function(n){return g(n,!1)},o.getJSON=function(n){return g(n,!0)},o.remove=function(n,r){p(n,"",l(r,{expires:-1}))},o.defaults={},o.withConverter=_,o}return _(function(){})})}}]);
