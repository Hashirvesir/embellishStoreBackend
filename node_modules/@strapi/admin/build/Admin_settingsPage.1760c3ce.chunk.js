"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5895],{87211:function($,y,e){e.r(y),e.d(y,{SettingsPage:function(){return xe}});var t=e(32735),d=e(96709),r=e(19565),M=e(74758),m=e(67879),x=e(53038),c=e(63465),C=e(9592),O=e(63602),D=e(90700),U=e(78090),R=e(77013),l=e(79318),f=e(66618),g=e(60216),n=e.n(g),p=e(14911);const L=({menu:a})=>{const{formatMessage:o}=(0,m.Z)(),{trackUsage:i}=(0,r.rS)(),{pathname:s}=(0,x.TH)(),S=a.filter(u=>!u.links.every(h=>h.isDisplayed===!1)).map(u=>({...u,title:u.intlLabel,links:u.links.map(h=>({...h,title:h.intlLabel,name:h.id}))})),T=o({id:"global.settings",defaultMessage:"Settings"}),v=(u=null)=>{i("willNavigate",{from:s,to:u})};return t.createElement(D.m,{ariaLabel:T},t.createElement(U.p,{label:T}),t.createElement(R.Z,null,S.map(u=>t.createElement(l.D,{key:u.id,label:o(u.intlLabel)},u.links.map(h=>t.createElement(f.E,{as:p.OL,withBullet:h.hasNotification,to:h.to,onClick:()=>v(h.to),key:h.id},o(h.intlLabel)))))))};L.propTypes={menu:n().array.isRequired};var z=L;const G=[{component:t.lazy(()=>e.e(3455).then(e.bind(e,32239))),path:"/settings/roles"},{component:t.lazy(()=>Promise.all([e.e(1387),e.e(2544)]).then(e.bind(e,15570))),path:"/settings/roles/duplicate/:id"},{component:t.lazy(()=>Promise.all([e.e(1387),e.e(2544)]).then(e.bind(e,15570))),path:"/settings/roles/new"},{component:t.lazy(()=>Promise.all([e.e(1387),e.e(2544)]).then(e.bind(e,87056))),path:"/settings/roles/:id"},{component:t.lazy(()=>e.e(5199).then(e.bind(e,25691))),path:"/settings/users"},{component:t.lazy(()=>e.e(4263).then(e.bind(e,28363))),path:"/settings/users/:id"},{component:t.lazy(()=>e.e(5162).then(e.bind(e,5722))),path:"/settings/webhooks/create"},{component:t.lazy(()=>e.e(5162).then(e.bind(e,63939))),path:"/settings/webhooks/:id"},{component:t.lazy(()=>e.e(4121).then(e.bind(e,93826))),path:"/settings/webhooks"},{component:t.lazy(()=>e.e(8056).then(e.bind(e,22614))),path:"/settings/api-tokens"},{component:t.lazy(()=>Promise.all([e.e(1387),e.e(4628),e.e(2225),e.e(4299)]).then(e.bind(e,79494))),path:"/settings/api-tokens/create"},{component:t.lazy(()=>Promise.all([e.e(1387),e.e(4628),e.e(2225),e.e(92)]).then(e.bind(e,77238))),path:"/settings/api-tokens/:id"},{component:t.lazy(()=>Promise.all([e.e(1387),e.e(4628),e.e(1049),e.e(4816)]).then(e.bind(e,7360))),path:"/settings/transfer-tokens/create"},{component:t.lazy(()=>e.e(9600).then(e.bind(e,51318))),path:"/settings/transfer-tokens"},{component:t.lazy(()=>Promise.all([e.e(1387),e.e(4628),e.e(1049),e.e(2492)]).then(e.bind(e,66523))),path:"/settings/transfer-tokens/:id"}];var Q=e(27649),b=e(23866),Y=e(82055),Z=e(41415),nt=e(17e3),B=e(87933),I=e(49372),k=e(15335),J=e(5803),X=e(50428),q=e(66456),tt=e(47361),et=e(20108),ot=e(15062),at=e(30305),A=e(72850);const w=750,_=100,Et=["image/jpeg","image/png","image/svg+xml"];var jt=e(23272),It=e(68387),vt=e(50563),Dt=e(98779),zt=e(19406),At=e(44647),Bt=e(85025),Ut=e(55225),st=e(97889);const xt={localImage:void 0};var Zt=(a=xt,o)=>(0,st.ZP)(a,i=>{switch(o.type){case"SET_LOCAL_IMAGE":{i.localImage=o.value;break}default:return i}});const lt=({onChangeLogo:a,customLogo:o,goTo:i,Component:s,modalTitle:E,next:S,prev:T,currentStep:v})=>{const[{localImage:u},h]=(0,t.useReducer)(Zt,xt),{formatMessage:K}=(0,m.Z)(),P=W=>{h({type:"SET_LOCAL_IMAGE",value:W})},F=()=>{i(null)};return v?t.createElement(Bt.P,{labelledBy:"modal",onClose:F},t.createElement(Ut.x,null,t.createElement(I.Z,{fontWeight:"bold",as:"h2",id:"modal"},K(E))),t.createElement(s,{setLocalImage:P,goTo:i,next:S,prev:T,onClose:F,asset:u||o,onChangeLogo:a})):null};lt.defaultProps={Component:void 0,currentStep:void 0,customLogo:void 0,modalTitle:void 0,next:null,prev:null},lt.propTypes={Component:n().elementType,currentStep:n().string,customLogo:n().shape({name:n().string,url:n().string,width:n().number,height:n().number,ext:n().string}),goTo:n().func.isRequired,modalTitle:n().shape({id:n().string,defaultMessage:n().string}),next:n().string,onChangeLogo:n().func.isRequired,prev:n().string};var Ft=lt;const Lt={currentStep:void 0};var Wt=(a=Lt,o)=>(0,st.ZP)(a,i=>{switch(o.type){case"GO_TO":{i.currentStep=o.to;break}default:return i}}),$t=e(91215),it=e(90980),Kt=e(9026),rt=e(3653),Nt=e(98275),Gt=e(87107),bt=e(99140),Ht=e(47851),dt=e(11406),Vt=e(47284),Qt=e(8471);const Yt={id:"Settings.application.customization.modal.upload.error-format",defaultMessage:"Wrong format uploaded (accepted formats only: jpeg, jpg, png, svg)."},Mt={id:"Settings.application.customization.modal.upload.error-size",defaultMessage:"The file uploaded is too large (max dimension: {dimension}x{dimension}, max file size: {size}KB)"},Jt=a=>new Promise(o=>{const i=new FileReader;i.onload=()=>{const s=new Image;s.onload=function(){o({width:s.width,height:s.height})},s.src=i.result},i.readAsDataURL(a)}),Xt=(a,o)=>({ext:a.name.split(".").pop(),size:a.size/1e3,name:a.name,url:URL.createObjectURL(a),rawFile:a,width:o.width,height:o.height}),yt=async a=>{let o;if(!Et.includes(a.type))throw o=new Error("File format"),o.displayMessage=Yt,o;const s=await Jt(a);if(!(s.width<=w&&s.height<=w))throw o=new Error("File sizing"),o.displayMessage=Mt,o;const S=Xt(a,s);if(!(S.size<=_))throw o=new Error("File sizing"),o.displayMessage=Mt,o;return S},wt=(0,Qt.ZP)(Nt._)`
  opacity: 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,ct=({setLocalImage:a,goTo:o,next:i,onClose:s})=>{const{formatMessage:E}=(0,m.Z)(),[S,T]=(0,t.useState)(!1),[v,u]=(0,t.useState)(void 0),h=(0,t.useRef)(null),K=()=>T(!0),P=()=>T(!1),F=H=>{H.preventDefault(),h.current.click()},W=async()=>{P();const H=h.current.files[0];if(H)try{const V=await yt(H);a(V),o(i)}catch(V){if(V.displayMessage)u(E(V.displayMessage,{size:_,dimension:w})),h.current.focus();else throw V}},N=()=>S?"primary500":v?"danger600":"neutral300";return t.createElement(t.Fragment,null,t.createElement("form",null,t.createElement(A.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},t.createElement(Gt.g,{name:"logo-upload",error:v},t.createElement("label",{htmlFor:"logo-upload"},t.createElement(B.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(B.k,{paddingTop:9,paddingBottom:7,hasRadius:!0,justifyContent:"center",direction:"column",background:S?"primary100":"neutral100",borderColor:N(),borderStyle:"dashed",borderWidth:"1px",position:"relative",onDragEnter:K,onDragLeave:P},t.createElement(bt.J,{color:"primary600",width:`${60/16}rem`,height:`${60/16}rem`,as:Vt.Z,"aria-hidden":!0}),t.createElement(A.x,{paddingTop:3,paddingBottom:5},t.createElement(I.Z,{variant:"delta",as:"span"},E({id:"Settings.application.customization.modal.upload.drag-drop",defaultMessage:"Drag and Drop here or"}))),t.createElement(wt,{accept:Et,cursor:"pointer",as:"input",type:"file",name:"files",tabIndex:-1,zIndex:1,onChange:W,ref:h,id:"logo-upload"}),t.createElement(Z.z,{type:"button",onClick:F},E({id:"Settings.application.customization.modal.upload.cta.browse",defaultMessage:"Browse files"})),t.createElement(A.x,{paddingTop:6},t.createElement(I.Z,{variant:"pi",textColor:"neutral600"},E({id:"Settings.application.customization.modal.upload.file-validation",defaultMessage:"Max dimension: {dimension}x{dimension}, Max size: {size}KB"},{size:_,dimension:w})))),t.createElement(Ht.c,null)))))),t.createElement(dt.m,{startActions:t.createElement(Z.z,{onClick:s,variant:"tertiary"},E({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"}))}))};ct.defaultProps={next:null},ct.propTypes={goTo:n().func.isRequired,next:n().string,onClose:n().func.isRequired,setLocalImage:n().func.isRequired};var kt=ct,qt=e(10369),_t=async a=>{try{const{get:o}=(0,r.tg)(),i=await o(a,{responseType:"blob",timeout:8e3});return new File([i.data],i.config.url,{type:i.headers["content-type"]})}catch(o){throw o.displayMessage={id:"Settings.application.customization.modal.upload.error-network",defaultMessage:"Network error"},o}};const gt=({goTo:a,next:o,onClose:i,setLocalImage:s})=>{const{formatMessage:E}=(0,m.Z)(),[S,T]=(0,t.useState)(""),[v,u]=(0,t.useState)(null),h=P=>{T(P.target.value)},K=async()=>{try{const P=await _t(S),F=await yt(P);s(F),a(o)}catch(P){if(P.displayMessage)u(E(P.displayMessage,{size:_,dimension:w}));else throw P}};return t.createElement("form",{onSubmit:P=>{P.preventDefault(),K()}},t.createElement(A.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},t.createElement(qt.o,{label:E({id:"Settings.application.customization.modal.upload.from-url.input-label",defaultMessage:"URL"}),error:v,onChange:h,value:S,name:"logo-url"})),t.createElement(dt.m,{startActions:t.createElement(Z.z,{onClick:i,variant:"tertiary"},E({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:t.createElement(Z.z,{type:"submit"},E({id:"Settings.application.customization.modal.upload.next",defaultMessage:"Next"}))}))};gt.defaultProps={next:null},gt.propTypes={goTo:n().func.isRequired,next:n().string,onClose:n().func.isRequired,setLocalImage:n().func.isRequired};var te=gt;const ut=({setLocalImage:a,goTo:o,next:i,onClose:s})=>{const{formatMessage:E}=(0,m.Z)();return t.createElement($t.v,{label:E({id:"Settings.application.customization.modal.tab.label",defaultMessage:"How do you want to upload your assets?"}),variant:"simple"},t.createElement(A.x,{paddingLeft:8,paddingRight:8},t.createElement(it.m,null,t.createElement(it.O,null,E({id:"Settings.application.customization.modal.upload.from-computer",defaultMessage:"From computer"})),t.createElement(it.O,null,E({id:"Settings.application.customization.modal.upload.from-url",defaultMessage:"From url"}))),t.createElement(Kt.i,null)),t.createElement(rt.n,null,t.createElement(rt.x,null,t.createElement(kt,{onClose:s,setLocalImage:a,goTo:o,next:i})),t.createElement(rt.x,null,t.createElement(te,{onClose:s,setLocalImage:a,goTo:o,next:i}))))};ut.defaultProps={next:null},ut.propTypes={goTo:n().func.isRequired,next:n().string,onClose:n().func.isRequired,setLocalImage:n().func.isRequired};var ee=ut,ne=e(42466),oe=e(20853),ae=e(2800),se=e(26835),le=e(41048),Ct=e(37083),ie=e(11505);const St=({asset:a})=>{const{formatMessage:o}=(0,m.Z)();return t.createElement(ne.Z,null,t.createElement(oe.O,null,t.createElement(ae.H,{size:"S",src:a.url})),t.createElement(se.e,null,t.createElement(le.a,null,t.createElement(Ct.l,null,a.name),t.createElement(Ct._,null,`${a.ext.toUpperCase()} - ${a.width}\u2715${a.height}`)),t.createElement(ie.E,null,o({id:"Settings.application.customization.modal.pending.card-badge",defaultMessage:"image"}))))};St.propTypes={asset:n().shape({name:n().string,url:n().string,width:n().number,height:n().number,ext:n().string}).isRequired};var re=St;const mt=({onClose:a,asset:o,prev:i,next:s,goTo:E,setLocalImage:S,onChangeLogo:T})=>{const{formatMessage:v}=(0,m.Z)(),u=()=>{S(void 0),E(i)},h=()=>{T(o),E(s)};return t.createElement(t.Fragment,null,t.createElement(A.x,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},t.createElement(B.k,{justifyContent:"space-between",paddingBottom:6},t.createElement(B.k,{direction:"column",alignItems:"flex-start"},t.createElement(I.Z,{variant:"pi",fontWeight:"bold"},v({id:"Settings.application.customization.modal.pending.title",defaultMessage:"Logo ready to upload"})),t.createElement(I.Z,{variant:"pi",textColor:"neutral500"},v({id:"Settings.application.customization.modal.pending.subtitle",defaultMessage:"Manage the chosen logo before uploading it"}))),t.createElement(Z.z,{onClick:u,variant:"secondary"},v({id:"Settings.application.customization.modal.pending.choose-another",defaultMessage:"Choose another logo"}))),t.createElement(A.x,{maxWidth:(0,r.Q1)(180)},o.url?t.createElement(re,{asset:o}):null)),t.createElement(dt.m,{startActions:t.createElement(Z.z,{onClick:a,variant:"tertiary"},v({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"})),endActions:t.createElement(Z.z,{onClick:h},v({id:"Settings.application.customization.modal.pending.upload",defaultMessage:"Upload logo"}))}))};mt.defaultProps={next:null,prev:null},mt.propTypes={goTo:n().func.isRequired,asset:n().shape({name:n().string,url:n().string,width:n().number,height:n().number,ext:n().string}).isRequired,next:n().string,onClose:n().func.isRequired,onChangeLogo:n().func.isRequired,prev:n().string,setLocalImage:n().func.isRequired};var de=mt,ce={upload:{Component:ee,modalTitle:{id:"Settings.application.customization.modal.upload",defaultMessage:"Upload logo"},next:"pending",prev:null},pending:{Component:de,modalTitle:{id:"Settings.application.customization.modal.pending",defaultMessage:"Pending logo"},next:null,prev:"upload"}};const pt=({canUpdate:a,customLogo:o,defaultLogo:i,hint:s,label:E,onChangeLogo:S,onResetLogo:T})=>{const[{currentStep:v},u]=(0,t.useReducer)(Wt,Lt),{Component:h,next:K,prev:P,modalTitle:F}=ce[v]||{},{formatMessage:W}=(0,m.Z)(),N=H=>{u({type:"GO_TO",to:H})};return t.createElement(t.Fragment,null,t.createElement(jt.F,{label:E,selectedSlide:0,hint:s,previousLabel:"",nextLabel:"",onNext:()=>{},onPrevious:()=>{},secondaryLabel:o?.name||"logo.png",actions:t.createElement(It.b,null,t.createElement(vt.h,{disabled:!a,onClick:()=>N(o?"pending":"upload"),label:W({id:"Settings.application.customization.carousel.change-action",defaultMessage:"Change logo"}),icon:t.createElement(zt.Z,null)}),o&&t.createElement(vt.h,{disabled:!a,onClick:T,label:W({id:"Settings.application.customization.carousel.reset-action",defaultMessage:"Reset logo"}),icon:t.createElement(At.Z,null)}))},t.createElement(Dt.q,{label:W({id:"Settings.application.customization.carousel-slide.label",defaultMessage:"Logo slide"})},t.createElement(A.x,{maxHeight:"40%",maxWidth:"40%",as:"img",src:o?.url||i,alt:W({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"})}))),t.createElement(Ft,{Component:h,currentStep:v,onChangeLogo:S,customLogo:o,goTo:N,next:K,prev:P,modalTitle:F}))};pt.defaultProps={canUpdate:!1,customLogo:null,hint:null},pt.propTypes={canUpdate:n().bool,customLogo:n().shape({url:n().string,name:n().string}),label:n().string.isRequired,hint:n().string,defaultLogo:n().string.isRequired,onChangeLogo:n().func.isRequired,onResetLogo:n().func.isRequired};var Rt=pt,ge=e(86349),ue=e.n(ge),me=(a,o)=>ue()(a,{menuLogo:{display:o.menuLogo},authLogo:{display:o.authLogo}});const ht={menuLogo:{display:null,submit:{rawFile:null,isReset:!1}},authLogo:{display:null,submit:{rawFile:null,isReset:!1}}};var pe=(a=ht,o)=>(0,st.ZP)(a,i=>{switch(o.type){case"SET_CUSTOM_MENU_LOGO":{i.menuLogo.display=o.value,i.menuLogo.submit.rawFile=o.value.rawFile;break}case"SET_CUSTOM_AUTH_LOGO":{i.authLogo.display=o.value,i.authLogo.submit.rawFile=o.value.rawFile;break}case"RESET_CUSTOM_MENU_LOGO":{i.menuLogo.display=null,i.menuLogo.submit={rawFile:null,isReset:!0};break}case"RESET_CUSTOM_AUTH_LOGO":{i.authLogo.display=null,i.authLogo.submit={rawFile:null,isReset:!0};break}default:return i}});const ft=(0,t.forwardRef)(({canUpdate:a,projectSettingsStored:o},i)=>{const{formatMessage:s}=(0,m.Z)(),{trackUsage:E}=(0,r.rS)(),{logos:{menu:S,auth:T}}=(0,c.um)(),[{menuLogo:v,authLogo:u},h]=(0,t.useReducer)(pe,ht,()=>me(ht,o)),K=N=>{h({type:"SET_CUSTOM_MENU_LOGO",value:N})},P=()=>{E("didClickResetLogo",{logo:"menu"}),h({type:"RESET_CUSTOM_MENU_LOGO"})},F=N=>{h({type:"SET_CUSTOM_AUTH_LOGO",value:N})},W=()=>{E("didClickResetLogo",{logo:"auth"}),h({type:"RESET_CUSTOM_AUTH_LOGO"})};return(0,t.useImperativeHandle)(i,()=>({getValues:()=>({menuLogo:v.submit,authLogo:u.submit})})),t.createElement(A.x,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},t.createElement(I.Z,{variant:"delta",as:"h3"},s({id:"Settings.application.customization",defaultMessage:"Customization"})),t.createElement(I.Z,{variant:"pi",textColor:"neutral600"},s({id:"Settings.application.customization.size-details",defaultMessage:"Max dimension: {dimension}\xD7{dimension}, Max file size: {size}KB"},{dimension:w,size:_})),t.createElement(k.r,{paddingTop:4,gap:4},t.createElement(J.P,{col:6,s:12},t.createElement(Rt,{canUpdate:a,customLogo:v.display,defaultLogo:S.default,hint:s({id:"Settings.application.customization.menu-logo.carousel-hint",defaultMessage:"Replace the logo in the main navigation"}),label:s({id:"Settings.application.customization.carousel.menu-logo.title",defaultMessage:"Menu logo"}),onChangeLogo:K,onResetLogo:P})),t.createElement(J.P,{col:6,s:12},t.createElement(Rt,{canUpdate:a,customLogo:u.display,defaultLogo:T.default,hint:s({id:"Settings.application.customization.auth-logo.carousel-hint",defaultMessage:"Replace the logo in the authentication pages"}),label:s({id:"Settings.application.customization.carousel.auth-logo.title",defaultMessage:"Auth logo"}),onChangeLogo:F,onResetLogo:W}))))});ft.defaultProps={canUpdate:!1,projectSettingsStored:null},ft.propTypes={canUpdate:n().bool,projectSettingsStored:n().shape({menuLogo:n().shape({url:n().string,name:n().string})})};var he=ft,fe=a=>{const o=new FormData;return Object.entries(a).forEach(([i,s])=>{s&&s.rawFile instanceof File&&o.append(i,s.rawFile),s&&s.isReset&&o.append(i,null)}),o};const Ee=()=>null;var ve=()=>{const a=t.useRef(),o=(0,r.lm)(),{trackUsage:i}=(0,r.rS)(),{formatMessage:s}=(0,m.Z)(),{get:E,post:S}=(0,r.kY)(),{updateProjectSettings:T}=(0,c.um)(),v=(0,ot.v9)(at._),{formatAPIError:u}=(0,r.So)(),{communityEdition:h,latestStrapiReleaseTag:K,nodeVersion:P,shouldUpdateStrapi:F,strapiVersion:W}=(0,r.L7)(),N=(0,C.c)(Ee,async()=>(await e.e(502).then(e.bind(e,50502))).AdminSeatInfoEE),{allowedActions:{canRead:H,canUpdate:V}}=(0,r.ss)(v.settings["project-settings"]);(0,r.go)();const{data:Tt,isLoading:Le}=(0,et.useQuery)(["project-settings"],async()=>{const{data:j}=await E("/admin/project-settings");return j},{cacheTime:0,enabled:H,select(j){return{...j,authLogo:j.authLogo?{...j.authLogo,url:(0,r.CR)(j.authLogo.url)}:j.authLogo,menuLogo:j.menuLogo?{...j.menuLogo,url:(0,r.CR)(j.menuLogo.url)}:j.menuLogo}}}),Me=(0,et.useMutation)(j=>S("/admin/project-settings",j,{headers:{"Content-Type":"multipart/form-data"}}),{onError(j){o({type:"warning",message:u(j)})},async onSuccess(j){const{menuLogo:Pt,authLogo:Ot}=j;T({menuLogo:Pt?.url,authLogo:Ot?.url}),Pt?.rawFile&&i("didChangeLogo",{logo:"menu"}),Ot?.rawFile&&i("didChangeLogo",{logo:"auth"}),o({type:"success",message:s({id:"app",defaultMessage:"Saved"})})}}),ye=j=>{j.preventDefault(),Me.mutate(fe(a.current.getValues()))};return N?t.createElement(d.A,null,t.createElement(r.SL,{name:"Application"}),t.createElement(Q.o,null,Le?t.createElement(b.a,null,s({id:"Settings.application.isLoading",defaultMessage:"Loading"})):t.createElement("form",{onSubmit:ye},t.createElement(Y.T,{title:s({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:s({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"}),primaryAction:V&&t.createElement(Z.z,{type:"submit",startIcon:t.createElement(q.Z,null)},s({id:"global.save",defaultMessage:"Save"}))}),t.createElement(nt.D,null,t.createElement(B.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(B.k,{direction:"column",alignItems:"stretch",gap:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},t.createElement(I.Z,{variant:"delta",as:"h3"},s({id:"global.details",defaultMessage:"Details"})),t.createElement(k.r,{gap:5,as:"dl"},t.createElement(J.P,{col:6,s:12},t.createElement(I.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},s({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),t.createElement(B.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},t.createElement(I.Z,null,"v",W),F&&t.createElement(X.r,{href:`https://github.com/strapi/strapi/releases/tag/${K}`,isExternal:!0,endIcon:t.createElement(tt.Z,null)},s({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"})))),t.createElement(J.P,{col:6,s:12},t.createElement(I.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},s({id:"Settings.application.edition-title",defaultMessage:"current plan"})),t.createElement(B.k,{gap:3,direction:"column",alignItems:"start",as:"dd"},t.createElement(I.Z,null,s({id:"Settings.application.ee-or-ce",defaultMessage:"{communityEdition, select, true {Community Edition} other {Enterprise Edition}}"},{communityEdition:h})),t.createElement(X.r,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:t.createElement(tt.Z,null)},s({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),t.createElement(J.P,{col:6,s:12},t.createElement(I.Z,{variant:"sigma",textColor:"neutral600",as:"dt"},s({id:"Settings.application.node-version",defaultMessage:"node version"})),t.createElement(I.Z,{as:"dd"},P)),t.createElement(N,null))),H&&Tt&&t.createElement(he,{canUpdate:V,ref:a,projectSettingsStored:Tt})))))):null};function xe(){const{settingId:a}=(0,x.UO)(),{settings:o}=(0,r.j1)(),{formatMessage:i}=(0,m.Z)(),{isLoading:s,menu:E}=(0,c.Te)(),S=(0,C.c)(G,async()=>(await e.e(3483).then(e.bind(e,11009))).SETTINGS_ROUTES_EE,{combine(v,u){return[...v,...u]},defaultValue:[]}),T=Object.values(o).flatMap(v=>v.links.map(u=>(0,O.o)(u.Component,u.to,u.exact||!1)));return s?t.createElement(r.dO,null):a?t.createElement(d.A,{sideNav:t.createElement(z,{menu:E})},t.createElement(M.q,{title:i({id:"global.settings",defaultMessage:"Settings"})}),t.createElement(x.rs,null,t.createElement(x.AW,{path:"/settings/application-infos",component:ve,exact:!0}),S.map(({path:v,component:u})=>t.createElement(x.AW,{key:v,path:v,component:u,exact:!0})),T)):t.createElement(x.l_,{to:"/settings/application-infos"})}},17e3:function($,y,e){e.d(y,{D:function(){return r}});var t=e(74512),d=e(72850);const r=({children:M})=>(0,t.jsx)(d.x,{paddingLeft:10,paddingRight:10,children:M})},82055:function($,y,e){e.d(y,{T:function(){return D}});var t=e(74512),d=e(32735),r=e(8471);const M=l=>{const f=(0,d.useRef)(null),[g,n]=(0,d.useState)(!0),p=([L])=>{n(L.isIntersecting)};return(0,d.useEffect)(()=>{const L=f.current,z=new IntersectionObserver(p,l);return L&&z.observe(f.current),()=>{L&&z.disconnect()}},[f,l]),[f,g]};var m=e(81957);const x=(l,f)=>{const g=(0,m.W)(f);(0,d.useLayoutEffect)(()=>{const n=new ResizeObserver(g);return Array.isArray(l)?l.forEach(p=>{p.current&&n.observe(p.current)}):l.current&&n.observe(l.current),()=>{n.disconnect()}},[l,g])};var c=e(72850),C=e(87933),O=e(49372);const D=l=>{const f=(0,d.useRef)(null),[g,n]=(0,d.useState)(null),[p,L]=M({root:null,rootMargin:"0px",threshold:0});return x(p,()=>{p.current&&n(p.current.getBoundingClientRect())}),(0,d.useEffect)(()=>{f.current&&n(f.current.getBoundingClientRect())},[f]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{height:g?.height},ref:p,children:L&&(0,t.jsx)(R,{ref:f,...l})}),!L&&(0,t.jsx)(R,{...l,sticky:!0,width:g?.width})]})};D.displayName="HeaderLayout";const U=(0,r.ZP)(c.x)`
  width: ${({width:l})=>l?`${l/16}rem`:void 0};
  z-index: ${({theme:l})=>l.zIndices[1]};
`,R=d.forwardRef(({navigationAction:l,primaryAction:f,secondaryAction:g,subtitle:n,title:p,sticky:L,width:z,...G},Q)=>{const b=typeof n=="string";return L?(0,t.jsx)(U,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:z,"data-strapi-header-sticky":!0,children:(0,t.jsxs)(C.k,{justifyContent:"space-between",children:[(0,t.jsxs)(C.k,{children:[l&&(0,t.jsx)(c.x,{paddingRight:3,children:l}),(0,t.jsxs)(c.x,{children:[(0,t.jsx)(O.Z,{variant:"beta",as:"h1",...G,children:p}),b?(0,t.jsx)(O.Z,{variant:"pi",textColor:"neutral600",children:n}):n]}),g?(0,t.jsx)(c.x,{paddingLeft:4,children:g}):null]}),(0,t.jsx)(C.k,{children:f?(0,t.jsx)(c.x,{paddingLeft:2,children:f}):void 0})]})}):(0,t.jsxs)(c.x,{ref:Q,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:l?6:8,background:"neutral100","data-strapi-header":!0,children:[l?(0,t.jsx)(c.x,{paddingBottom:2,children:l}):null,(0,t.jsxs)(C.k,{justifyContent:"space-between",children:[(0,t.jsxs)(C.k,{minWidth:0,children:[(0,t.jsx)(O.Z,{as:"h1",variant:"alpha",...G,children:p}),g?(0,t.jsx)(c.x,{paddingLeft:4,children:g}):null]}),f]}),b?(0,t.jsx)(O.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:n}):n]})})},96709:function($,y,e){e.d(y,{A:function(){return x}});var t=e(74512),d=e(8471),r=e(72850);const M=(0,d.ZP)(r.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:c})=>c?"auto 1fr":"1fr"};
`,m=(0,d.ZP)(r.x)`
  overflow-x: hidden;
`,x=({sideNav:c,children:C})=>(0,t.jsxs)(M,{hasSideNav:!!c,children:[c,(0,t.jsx)(m,{paddingBottom:10,children:C})]})},50428:function($,y,e){e.d(y,{r:function(){return U}});var t=e(74512),d=e(32735),r=e(47361),M=e(14911),m=e(8471),x=e(30350),c=e(49372),C=e(72850);const O=m.ZP.a`
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  pointer-events: ${({disabled:R})=>R?"none":void 0};
  color: ${({disabled:R,theme:l})=>R?l.colors.neutral600:l.colors.primary600};

  svg path {
    transition: fill 150ms ease-out;
    fill: currentColor;
  }

  svg {
    font-size: ${10/16}rem;
  }

  ${c.Z} {
    transition: color 150ms ease-out;
    color: currentColor;
  }

  &:hover {
    color: ${({theme:R})=>R.colors.primary500};
  }

  &:active {
    color: ${({theme:R})=>R.colors.primary700};
  }

  ${x.BF};
`,D=(0,m.ZP)(C.x)`
  display: flex;
`,U=d.forwardRef(({children:R,href:l,to:f,disabled:g=!1,startIcon:n,endIcon:p,...L},z)=>(0,t.jsxs)(O,{as:f&&!g?M.OL:"a",target:l?"_blank":void 0,rel:l?"noreferrer noopener":void 0,to:g?void 0:f,href:g?"#":l,disabled:g,ref:z,...L,children:[n&&(0,t.jsx)(D,{as:"span","aria-hidden":!0,paddingRight:2,children:n}),(0,t.jsx)(c.Z,{children:R}),p&&!l&&(0,t.jsx)(D,{as:"span","aria-hidden":!0,paddingLeft:2,children:p}),l&&(0,t.jsx)(D,{as:"span","aria-hidden":!0,paddingLeft:2,children:(0,t.jsx)(r.Z,{})})]}))},27649:function($,y,e){e.d(y,{o:function(){return m}});var t=e(74512),d=e(8471),r=e(72850);const M=(0,d.ZP)(r.x)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,m=({labelledBy:x="main-content-title",...c})=>(0,t.jsx)(M,{"aria-labelledby":x,as:"main",id:"main-content",tabIndex:-1,...c})},90700:function($,y,e){e.d(y,{m:function(){return x}});var t=e(74512),d=e(8471),r=e(15335);const M=`${232/16}rem`,m=(0,d.ZP)(r.r)`
  width: ${M};
  background: ${({theme:c})=>c.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:c})=>c.colors.neutral200};
  z-index: 1;
`,x=({ariaLabel:c,...C})=>(0,t.jsx)(m,{"aria-label":c,as:"nav",...C})},78090:function($,y,e){e.d(y,{p:function(){return n}});var t=e(74512),d=e(32735),r=e(6792),M=e(8471),m=e(94486),x=e(74971);const c=p=>{const L=(0,d.useRef)();return(0,d.useEffect)(()=>{L.current=p}),L.current};var C=e(9026),O=e(72850),D=e(89252),U=e(61774),R=e(87933),l=e(49372),f=e(50563);const g=(0,M.ZP)(C.i)`
  width: ${24/16}rem;
  background-color: ${({theme:p})=>p.colors.neutral200};
`,n=({as:p="h2",label:L,searchLabel:z="",searchable:G=!1,onChange:Q=()=>{},value:b="",onClear:Y=()=>{},onSubmit:Z=()=>{},id:nt})=>{const[B,I]=(0,d.useState)(!1),k=c(B),J=(0,x.M)(nt),X=(0,d.useRef)(void 0),q=(0,d.useRef)(void 0);(0,d.useEffect)(()=>{B&&X.current&&X.current.focus(),k&&!B&&q.current&&q.current.focus()},[B,k]);const tt=()=>{I(A=>!A)},et=A=>{Y(A),X.current.focus()},ot=A=>{A.relatedTarget?.id!==J&&I(!1)},at=A=>{A.key===m.y.ESCAPE&&I(!1)};return B?(0,t.jsxs)(O.x,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[(0,t.jsx)(D.U,{children:(0,t.jsx)(U.w,{name:"searchbar",value:b,onChange:Q,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:at,ref:X,onBlur:ot,onClear:et,onSubmit:Z,clearLabel:"Clear",size:"S",children:z})}),(0,t.jsx)(O.x,{paddingLeft:2,paddingTop:4,children:(0,t.jsx)(g,{})})]}):(0,t.jsxs)(O.x,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[(0,t.jsxs)(R.k,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,t.jsx)(l.Z,{variant:"beta",as:p,children:L}),G&&(0,t.jsx)(f.h,{ref:q,onClick:tt,label:z,icon:(0,t.jsx)(r.Z,{})})]}),(0,t.jsx)(O.x,{paddingTop:4,children:(0,t.jsx)(g,{})})]})}},66618:function($,y,e){e.d(y,{E:function(){return R}});var t=e(74512),d=e(32735),r=e(56243),M=e(8471),m=e(72850),x=e(49372),c=e(87933),C=e(62499);const O=(0,M.ZP)(m.x)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:l})=>l.colors.neutral800};
  svg > * {
    fill: ${({theme:l})=>l.colors.neutral600};
  }

  &.active {
    ${({theme:l})=>`
      background-color: ${l.colors.primary100};
      border-right: 2px solid ${l.colors.primary600};
      svg > * {
        fill: ${l.colors.primary700};
      }
      ${x.Z} {
        color: ${l.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,D=(0,M.ZP)(r.Z)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:l,$active:f})=>f?l.colors.primary600:l.colors.neutral600};
  }
`,U=M.ZP.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,R=d.forwardRef(({children:l,icon:f=null,withBullet:g=!1,as:n=C.f,isSubSectionChild:p=!1,...L},z)=>(0,t.jsxs)(O,{as:n,icon:f,background:"neutral100",paddingLeft:p?9:7,paddingBottom:2,paddingTop:2,ref:z,...L,children:[(0,t.jsxs)(c.k,{children:[f?(0,t.jsx)(U,{children:f}):(0,t.jsx)(D,{}),(0,t.jsx)(m.x,{paddingLeft:2,children:(0,t.jsx)(x.Z,{as:"span",children:l})})]}),g&&(0,t.jsx)(m.x,{as:c.k,paddingRight:4,children:(0,t.jsx)(D,{$active:!0})})]}))},79318:function($,y,e){e.d(y,{D:function(){return f}});var t=e(74512),d=e(32735),r=e(8471),M=e(16899),m=e(87933),x=e(72850),c=e(49372);const C=(0,r.ZP)(m.k)`
  border: none;
  padding: 0;
  background: transparent;
`,O=r.ZP.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:g})=>g?"0deg":"180deg"});
`,D=({collapsable:g=!1,label:n,onClick:p=()=>{},ariaExpanded:L,ariaControls:z})=>g?(0,t.jsxs)(C,{as:"button",onClick:p,"aria-expanded":L,"aria-controls":z,textAlign:"left",children:[(0,t.jsx)(x.x,{paddingRight:1,children:(0,t.jsx)(c.Z,{variant:"sigma",textColor:"neutral600",children:n})}),g&&(0,t.jsx)(O,{rotated:L,children:(0,t.jsx)(M.Z,{"aria-hidden":!0})})]}):(0,t.jsx)(C,{children:(0,t.jsx)(x.x,{paddingRight:1,children:(0,t.jsx)(c.Z,{variant:"sigma",textColor:"neutral600",children:n})})});var U=e(74971),R=e(6518);const l=(0,r.ZP)(x.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:g})=>g.colors.neutral500};
    }
  }
`,f=({collapsable:g=!1,label:n,badgeLabel:p,children:L,id:z})=>{const[G,Q]=(0,d.useState)(!0),b=(0,U.M)(z);return(0,t.jsxs)(m.k,{direction:"column",alignItems:"stretch",gap:1,children:[(0,t.jsx)(l,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,t.jsxs)(x.x,{position:"relative",paddingRight:p?6:0,children:[(0,t.jsx)(D,{onClick:()=>{Q(Y=>!Y)},ariaExpanded:G,ariaControls:b,collapsable:g,label:n}),p&&(0,t.jsx)(R.C,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",children:p})]})}),(!g||G)&&(0,t.jsx)("ol",{id:b,children:d.Children.map(L,(Y,Z)=>(0,t.jsx)("li",{children:Y},Z))})]})}},77013:function($,y,e){e.d(y,{Z:function(){return m}});var t=e(74512),d=e(32735),r=e(72850),M=e(87933);const m=({children:x,spacing:c=2,horizontal:C=!1,...O})=>(0,t.jsx)(r.x,{paddingTop:2,paddingBottom:4,children:(0,t.jsx)(M.k,{as:"ol",gap:c,direction:C?"row":"column",alignItems:C?"center":"stretch",...O,children:d.Children.map(x,(D,U)=>(0,t.jsx)("li",{children:D},U))})})},56243:function($,y,e){e.d(y,{Z:function(){return r}});var t=e(74512);const d=M=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 4 4",...M,children:(0,t.jsx)("rect",{width:4,height:4,fill:"#A5A5BA",rx:2})}),r=d}}]);
