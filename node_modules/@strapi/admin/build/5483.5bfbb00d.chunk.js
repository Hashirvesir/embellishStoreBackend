"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5483],{90978:function(h,f,e){e.r(f),e.d(f,{InformationBoxEE:function(){return I}});var t=e(32735),r=e(77035),s=e(87933),E=e(49372),u=e(23866),a=e(19565),c=e(67879),l=e(20108),n=e(98865),m=e(98866),o=e(90562),i=e(2121),g=e(32329),v=e(68886);const w="strapi_stage";function I(){const{initialData:A,isCreatingEntry:R,layout:{uid:y,options:D},isSingleType:P,onChange:C}=(0,a.Wq)(),{put:d}=(0,a.kY)(),T=A?.[w]??null,k=D?.reviewWorkflows??!1,{formatMessage:p}=(0,c.Z)(),{formatAPIError:x}=(0,a.So)(),G=(0,a.lm)(),{getFeature:Z}=(0,m.q)(),[F,L]=t.useState(!1),{meta:$,workflows:[B],isLoading:Y}=(0,g.n)({filters:{contentTypes:y}}),{error:K,isLoading:j,mutateAsync:H}=(0,l.useMutation)(async({entityId:O,stageId:W,uid:M})=>{const N=P?"single-types":"collection-types",{data:{data:U}}=await d(`/admin/content-manager/${N}/${M}/${O}/stage`,{data:{id:W}});return C({target:{name:w,value:U[w]}},!0),U},{onSuccess(){G({type:"success",message:{id:"content-manager.reviewWorkflows.stage.notification.saved",defaultMessage:"Review stage updated"}})}}),S=Z("review-workflows"),Q=K&&x(K)||null,X=async({value:O})=>{try{S?.[i.Ef]&&parseInt(S[i.Ef],10)<$.workflowCount?L("workflow"):S?.[i._X]&&parseInt(S[i._X],10)<B.stages.length?L("stage"):await H({entityId:A.id,stageId:O,uid:y})}catch{}},{themeColorName:V}=T?.color?(0,v.k)(T?.color):{};return t.createElement(n.d.Root,null,t.createElement(n.d.Title,null),k&&!R&&t.createElement(r.q4,{error:Q,name:w,id:w,value:T?.id,onChange:O=>X({value:O}),label:p({id:"content-manager.reviewWorkflows.stage.label",defaultMessage:"Review stage"}),startIcon:t.createElement(s.k,{as:"span",height:2,background:T?.color,borderColor:V==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2,marginRight:"-3px"}),customizeContent:()=>t.createElement(s.k,{as:"span",justifyContent:"space-between",alignItems:"center",width:"100%"},t.createElement(E.Z,{textColor:"neutral800",ellipsis:!0},T?.name),Y||j?t.createElement(u.a,{small:!0,style:{display:"flex"}}):null)},B?B.stages.map(({id:O,color:W,name:M})=>{const{themeColorName:N}=(0,v.k)(W);return t.createElement(r.ag,{startIcon:t.createElement(s.k,{height:2,background:W,borderColor:N==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2}),value:O,textValue:M},M)}):[]),t.createElement(n.d.Body,null),t.createElement(o.fC,{isOpen:F==="workflow",onClose:()=>L(!1)},t.createElement(o.Dx,null,p({id:"content-manager.reviewWorkflows.workflows.limit.title",defaultMessage:"You\u2019ve reached the limit of workflows in your plan"})),t.createElement(o.uT,null,p({id:"content-manager.reviewWorkflows.workflows.limit.body",defaultMessage:"Delete a workflow or contact Sales to enable more workflows."}))),t.createElement(o.fC,{isOpen:F==="stage",onClose:()=>L(!1)},t.createElement(o.Dx,null,p({id:"content-manager.reviewWorkflows.stages.limit.title",defaultMessage:"You have reached the limit of stages for this workflow in your plan"})),t.createElement(o.uT,null,p({id:"content-manager.reviewWorkflows.stages.limit.body",defaultMessage:"Try deleting some stages or contact Sales to enable more stages."}))))}},98866:function(h,f,e){e.d(f,{q:function(){return E}});var t=e(32735),r=e(19565),s=e(20108);function E({enabled:u}={enabled:!0}){const{get:a}=(0,r.kY)(),{data:c,isError:l,isLoading:n}=(0,s.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:i}}=await a("/admin/license-limit-information");return i},{enabled:u}),m=t.useMemo(()=>c??{},[c]),o=t.useCallback(i=>(m?.features??[]).find(v=>v.name===i)?.options??{},[m?.features]);return{license:m,getFeature:o,isError:l,isLoading:n}}},90562:function(h,f,e){e.d(f,{uT:function(){return y},fC:function(){return C},Dx:function(){return R}});var t=e(32735),r=e(49372),s=e(87933),E=e(85025),u=e(31600),a=e(72850),c=e(50563),l=e(95489),n=e(35331),m=e(60216),o=e.n(m),i=e(67879),g=e(8471),v=e.p+"0cd5f8915b265d5b1856.png";const w="limits-title",I="https://strapi.io/pricing-cloud",A="https://strapi.io/contact-sales";function R({children:d}){return t.createElement(r.Z,{variant:"alpha",id:w},d)}R.propTypes={children:o().node.isRequired};function y({children:d}){return t.createElement(r.Z,{variant:"omega"},d)}y.propTypes={children:o().node.isRequired};function D(){const{formatMessage:d}=(0,i.Z)();return t.createElement(s.k,{gap:2,paddingTop:4},t.createElement(l.Q,{variant:"default",isExternal:!0,href:I},d({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),t.createElement(l.Q,{variant:"tertiary",isExternal:!0,href:A},d({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const P=g.ZP.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:d})=>`-${d.spaces[7]}`};
  margin-top: ${({theme:d})=>`-${d.spaces[7]}`};
  width: 360px;
`;function C({children:d,isOpen:T,onClose:k}){const{formatMessage:p}=(0,i.Z)();return T?t.createElement(E.P,{labelledBy:w},t.createElement(u.f,null,t.createElement(s.k,{gap:2,paddingLeft:7,position:"relative"},t.createElement(s.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},d,t.createElement(D,null)),t.createElement(s.k,{justifyContent:"end",height:"100%",width:"40%"},t.createElement(P,{src:v,"aria-hidden":!0,alt:"",loading:"lazy"}),t.createElement(a.x,{display:"flex",position:"absolute",right:0,top:0},t.createElement(c.h,{icon:t.createElement(n.Z,null),"aria-label":p({id:"global.close",defaultMessage:"Close"}),onClick:k})))))):null}C.defaultProps={isOpen:!1},C.propTypes={children:o().node.isRequired,isOpen:o().bool,onClose:o().func.isRequired}},2121:function(h,f,e){e.d(f,{$k:function(){return l},Ef:function(){return g},FT:function(){return o},Nj:function(){return c},Ot:function(){return a},VS:function(){return n},_X:function(){return v},gu:function(){return s},lv:function(){return m},qZ:function(){return E},sN:function(){return r},uL:function(){return i},x4:function(){return u}});var t=e(12301);const r="settings_review-workflows",s="Settings/Review_Workflows/RESET_WORKFLOW",E="Settings/Review_Workflows/SET_WORKFLOW",u="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",a="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",c="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",l="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",n="Settings/Review_Workflows/WORKFLOW_UPDATE",m={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},o=t.W.colors.primary600,i={STAGE:"stage"},g="numberOfWorkflows",v="stagesPerWorkflow"},32329:function(h,f,e){e.d(f,{n:function(){return s}});var t=e(19565),r=e(20108);function s(E={}){const{get:u}=(0,t.kY)(),{id:a="",...c}=E,l={populate:"stages"},{data:n,isLoading:m,status:o,refetch:i}=(0,r.useQuery)(["review-workflows","workflows",a],async()=>(await u(`/admin/review-workflows/workflows/${a}`,{params:{...l,...c}})).data);let g=[];return a&&n?.data?g=[n.data]:Array.isArray(n?.data)&&(g=n.data),{meta:n?.meta??{},workflows:g,isLoading:m,status:o,refetch:i}}},68886:function(h,f,e){e.d(f,{k:function(){return s},s:function(){return E}});var t=e(12301),r=e(2121);function s(u){if(!u)return null;const c=Object.entries(t.W.colors).filter(([,l])=>l.toUpperCase()===u.toUpperCase()).reduce((l,[n])=>(r.lv?.[n]&&(l=n),l),null);return c?{themeColorName:c,name:r.lv[c]}:null}function E(){return Object.entries(r.lv).map(([u,a])=>({hex:t.W.colors[u].toUpperCase(),name:a}))}}}]);
